let catFacts = [ 
    "Cats can jump up to six times their length <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats have an extra organ that allows them to taste scents on the air, which is why your cat stares at you with her mouth open from time to time <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats have whiskers on the backs of their front legs, as well <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Male cats are more likely to be left-pawed, while female cats are more likely to be right-pawed <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats will refuse an unpalatable food to the point of starvation <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Despite popular belief, many cats are actually lactose intolerant <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "A cat with a question-mark-shaped tail is asking, “Want to play?” <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "According to Wilde, a slow blink is a “kitty kiss.” This movement shows contentment and trust <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats have up to 100 different vocalizations — dogs only have 10 <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats may yawn as a way to end a confrontation with another animal. Think of it as their “talk to the hand” gesture <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "When your cat sticks his butt in your face, he is doing so as a gesture of friendship <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "A cat’s learning style is about the same as a 2- to 3-year-old child <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Cats can drink sea water in order to survive. (In case you’re wondering, we can’t.) <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Each cat’s nose print is unique, much like human fingerprints <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "Most world languages have a similar word to describe the “meow” sound <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>", 
    "The first known cat video was recorded in 1894 <br> - <a href='https://cvillecatcare.com/veterinary-topics/101-amazing-cat-facts-fun-trivia-about-your-feline-friend/'>cvillecatcare.com</a>",
    "Cats Have an Extra Organ that Helps Them Taste <br> - <a href='https://bettervet.com/resources/pet-lifestyle/cat-facts'>bettervet.com</a>", 
    "Cats Can Get Sunburned <br> - <a href='https://bettervet.com/resources/pet-lifestyle/cat-facts'>bettervet.com</a>", 
    "When a cat drinks, its tongue – which has tiny barbs on it – scoops the liquid up backwards <br> - <a href='https://www.mspca.org/pet_resources/interesting-facts-about-cats/'>mspca.org</a>", 
    "A cat sees about 6 times better than a human at night <br> - <a href='https://www.mspca.org/pet_resources/interesting-facts-about-cats/'>mspca.org</a>", 
    "Only 20% of Orange Cats Are Female <br> - <a href='https://www.petmd.com/cat/general-health/fun-facts-about-cats'>petmd.com</a>", 
    "Many Cats Get the Zoomies After Using the Litter Box <br> - <a href='https://www.petmd.com/cat/general-health/fun-facts-about-cats'>petmd.com</a>", 
    "Cat Whiskers Are as Sensitive as Human Fingertips <br> - <a href='https://www.petmd.com/cat/general-health/fun-facts-about-cats'>petmd.com</a>",
    "Cats Use Dewclaws To Help Them Grip <br> - <a href='https://www.petmd.com/cat/general-health/fun-facts-about-cats'>petmd.com</a>",
    "Abraham Lincoln loved cats! <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "A cat’s nose has catnip receptors <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "A cat lover is called an ailurophile <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "The first cat went to space in 1963 <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "The average cat can run up to 30 mph <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "In Great Britain and Japan, black cats are a sign of good luck <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "Some cats are born with six toes <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "Cats can sweat through their paws <br> - <a href='https://www.hsppr.org/30-cat-facts-for-happy-healthy-cat-month/'>hsppr.org</a>",
    "There are over 100 different cat breeds <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Cats can see up to 120 feet away. Their peripheral vision is about 280 degrees <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Blue eyed cats are often prone to deafness <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "A quivering cats tail is the greatest sign of love a cat can give you <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Cats respond more readily to names that end in an “ee” sound <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Cats purr at the same frequency as an idling diesel engine, approx 26 cycles per second <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Sir Isaac Newton, discoverer of the principles of gravity, also invented the cat flap <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
    "Cats have the largest eyes of any mammal in relation to body size <br> - <a href='https://www.vetwest.com.au/pet-library/20-amazing-feline-facts/'>vetwest.com.au</a>",
];

let randomCatFactIndex = Math.floor(Math.random() * catFacts.length);

let randomCatFact = catFacts[randomCatFactIndex];

let catFact = document.getElementById("catFact");

console.log(randomCatFact);

catFact.innerHTML = randomCatFact;

let catImages = [
    "./assets/cat1.jpg",
    "./assets/cat2.jpg",
    "./assets/cat3.jpg",
    "./assets/cat4.jpg",
    "./assets/cat5.jpg",
    "./assets/cat6.jpg",
    "./assets/cat7.jpg",
    "./assets/cat8.jpg",
    "./assets/cat9.jpg",
    "./assets/cat10.png",
    "./assets/cat11.jpg",
    "./assets/cat12.jpg",
    "./assets/cat13.jpg",
    "./assets/cat14.jpg",
    "./assets/cat15.jpg",
    "./assets/cat16.jpg",
    "./assets/cat17.jpg",
    "./assets/cat18.jpg",
    "./assets/cat19.jpg",
    "./assets/cat20.jpg",
    "./assets/cat21.jpg",
    "./assets/cat22.jpg",
    "./assets/cat23.jpg",
    "./assets/cat24.jpg",
    "./assets/cat25.jpg",
    "./assets/cat26.jpg",
    "./assets/cat27.jpg",
    "./assets/cat28.jpg",
    "./assets/cat29.jpg",
    "./assets/cat30.jpg",
    "./assets/cat31.jpg",
    "./assets/cat32.jpg",
    "./assets/cat33.jpg",
    "./assets/cat34.jpg",
    "./assets/cat35.jpg",
    "./assets/cat36.jpg",
    "./assets/cat37.jpg",
    "./assets/cat38.jpg",
    "./assets/cat39.jpg",
    "./assets/cat40.jpg",
    "./assets/cat41.jpg",
    "./assets/cat42.jpg",
    "./assets/cat43.png",
    "./assets/cat44.jpg",
    "./assets/cat45.jpg",
    "./assets/cat46.jpg",
    "./assets/cat47.jpg",
    "./assets/cat48.jpg",
    "./assets/cat49.jpg"
];

let randomCatImageIndex = Math.floor(Math.random() * catImages.length);

let randomCatImage = catImages[randomCatImageIndex];

let catImage = document.getElementById("catImage");

console.log(randomCatImage);


catImage.src = randomCatImage;

let specialImages = [
    "./assets/cat38.jpg",
    "./assets/cat2.jpg",
    "./assets/cat19.jpg",
    "./assets/cat36.jpg",
    "./assets/cat27.jpg",
    "./assets/cat24.jpg",
    "./assets/cat21.jpg"
];

// if (specialImages.includes(randomCatImage)) {
//     catImage.style.setProperty("max-height", "50%", "important");
// } else {
//     catImage.style.maxWidth = ""; // Reset to default
// }

document.addEventListener("DOMContentLoaded", () => {
    if (specialImages.includes(randomCatImage)) {
        catImage.style.maxHeight = "50%";
        console.log("maxHeight = 50%")
    } else {
        catImage.style.maxWidth = "50%"; // Reset to default
    }
});
console.log(specialImages.includes(randomCatImage));

var meowSound = new Audio('./assets/meow.wav');

window.onclick = function(event) {
    meowSound.play();
}
// function onAnchorClick(event) {
//   chrome.tabs.create({ url: event.target.href });
//   return false;
// }

// // Given an array of URLs, build a DOM list of these URLs in the action popup.
// function buildPopupDom(mostVisitedURLs) {
//   const popupDiv = document.getElementById('mostVisited_div');
//   const ol = popupDiv.appendChild(document.createElement('ol'));

//   for (let i = 0; i < mostVisitedURLs.length; i++) {
//     const img1 = document.createElement("iframe");
    
//     // img1.setAttribute('alt', 'na');
//     // img1.setAttribute('height', '20px');
//     // img1.setAttribute('width', '20px');
//     // img1.src = popupDiv[i].url;
//     popupDiv.appendChild(img1);
//     const li = ol.appendChild(document.createElement('li'));
//     const a = li.appendChild(document.createElement('a'));
//     popupDiv.href = mostVisitedURLs[i].url;
//     popupDiv.appendChild(document.createTextNode(mostVisitedURLs[i].title));
//     popupDiv.addEventListener('click', onAnchorClick);
//   }
// }

// window.onload = async () => {
//   const mostVisitedURLs = await chrome.topSites.get();
//   buildPopupDom(mostVisitedURLs);
// };

function faviconURL(u) {
    const url = new URL(chrome.runtime.getURL('/_favicon/'));
    url.searchParams.set('pageUrl', u); // this encodes the URL as well
    url.searchParams.set('size', '32');
    return url.toString();
  }
  
  function thumbnailsGotten(data) {
    let eightBallWindow = document.getElementById('mostVisitedThumb');
    let rand = Math.floor(Math.random() * data.length);
    const ol = eightBallWindow.appendChild(document.createElement('ol'));
    for (let i = 0; i < data.length; i++) {
        const li = ol.appendChild(document.createElement('li'));
        const a = li.appendChild(document.createElement('a'));
        const a2 = a.appendChild(document.createElement('img'));
        // a.href = mostVisitedURLs[i].url;
        // a.appendChild(document.createTextNode(mostVisitedURLs[i].title));
        // a.addEventListener('click', onAnchorClick);
        a.href = data[i].url;
        // a.textContent = data[i].title;
        // a.appendChild(document.createTextNode(data[i].title));
        a2.src = faviconURL(data[i].url);
        // a2.setAttribute('src', 'url(' + faviconURL(data[i].url) + ')');
        // a.style.backgroundImage =
        //   'url(' + faviconURL(data[i].url) + ')';

    }


  }
  
  window.onload = function () {
    chrome.topSites.get(thumbnailsGotten);
  };